# Environment Configuration for Saneyar Mental Health Platform
# Copy this file to .env and fill in your actual values

# ===========================
# SERVER CONFIGURATION
# ===========================
PORT=3000
NODE_ENV=development
API_VERSION=v1

# ===========================
# DATABASE CONFIGURATION
# ===========================
# MongoDB connection string
# 
# FOR LOCAL MONGODB:
MONGODB_URI=mongodb://localhost:27017/saneyar_dev
#
# FOR MONGODB ATLAS (Cloud):
# 1. Create account at https://www.mongodb.com/atlas
# 2. Create a cluster (free tier available)
# 3. Create database user in "Database Access"
# 4. Add IP to whitelist in "Network Access" (use 0.0.0.0/0 for development)
# 5. Get connection string from "Connect" -> "Connect your application"
# 6. Replace <password> with your database user password
# Example Atlas connection string:
# MONGODB_URI=mongodb+srv://username:password@cluster0.xxxxx.mongodb.net/saneyar_platform?retryWrites=true&w=majority

# Database Options
DB_MAX_POOL_SIZE=10
DB_SOCKET_TIMEOUT_MS=45000

# ===========================
# AUTHENTICATION SECRETS
# ===========================
# JWT secrets - Generate strong random strings for production
# Use: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=your-super-secret-jwt-key-here-change-in-production
JWT_REFRESH_SECRET=your-super-secret-refresh-key-here-change-in-production
JWT_EXPIRE=1h
JWT_REFRESH_EXPIRE=30d

# ===========================
# ENCRYPTION KEYS
# ===========================
# Message encryption key for sensitive content
MESSAGE_ENCRYPTION_KEY=your-message-encryption-key-here-change-in-production
SESSION_SECRET=your-session-secret-here-change-in-production

# ===========================
# AI & THIRD-PARTY SERVICES
# ===========================
# OpenAI API for enhanced chatbot responses (optional)
OPENAI_API_KEY=sk-your-openai-api-key-here

# Twilio for SMS notifications (optional)
TWILIO_ACCOUNT_SID=your-twilio-account-sid
TWILIO_AUTH_TOKEN=your-twilio-auth-token
TWILIO_PHONE_NUMBER=+1234567890

# Email service (Nodemailer with Gmail or custom SMTP)
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USER=your-email@gmail.com
EMAIL_PASS=your-app-specific-password
EMAIL_FROM=noreply@saneyar.com

# ===========================
# CLOUDINARY (File Upload)
# ===========================
CLOUDINARY_CLOUD_NAME=your-cloudinary-cloud-name
CLOUDINARY_API_KEY=your-cloudinary-api-key
CLOUDINARY_API_SECRET=your-cloudinary-api-secret

# ===========================
# CRISIS SERVICES INTEGRATION
# ===========================
# Crisis Text Line API (if available)
CRISIS_TEXT_LINE_API_KEY=your-crisis-text-line-api-key

# Emergency Services API (if available)
EMERGENCY_SERVICES_API_KEY=your-emergency-services-api-key

# ===========================
# MONITORING & ANALYTICS
# ===========================
# Sentry for error tracking (optional)
SENTRY_DSN=your-sentry-dsn-here

# Google Analytics or custom analytics
ANALYTICS_ID=your-analytics-id

# ===========================
# REDIS (for caching and sessions)
# ===========================
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=your-redis-password

# ===========================
# RATE LIMITING
# ===========================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=true

# ===========================
# CORS CONFIGURATION
# ===========================
# Comma-separated list of allowed origins
CORS_ORIGINS=http://localhost:3000,http://localhost:3001,https://yourdomain.com

# ===========================
# FILE UPLOAD LIMITS
# ===========================
MAX_FILE_SIZE=5242880
ALLOWED_FILE_TYPES=jpg,jpeg,png,gif,pdf,doc,docx

# ===========================
# LOGGING CONFIGURATION
# ===========================
LOG_LEVEL=info
LOG_FILE=logs/app.log
LOG_MAX_SIZE=10m
LOG_MAX_FILES=5

# ===========================
# SECURITY SETTINGS
# ===========================
# Password requirements
MIN_PASSWORD_LENGTH=8
REQUIRE_PASSWORD_UPPERCASE=true
REQUIRE_PASSWORD_LOWERCASE=true
REQUIRE_PASSWORD_NUMBERS=true
REQUIRE_PASSWORD_SYMBOLS=true

# Account lockout settings
MAX_LOGIN_ATTEMPTS=5
LOCKOUT_TIME=1800000

# ===========================
# DEVELOPMENT SETTINGS
# ===========================
# Enable debug logs in development
DEBUG=saneyar:*

# Hot reload for development
CHOKIDAR_USEPOLLING=true

# ===========================
# PRODUCTION SETTINGS
# ===========================
# Set to true in production
TRUST_PROXY=false

# CDN URL for static assets (if using CDN)
CDN_URL=https://cdn.yourdomain.com

# ===========================
# HEALTH CHECK ENDPOINTS
# ===========================
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_PATH=/health

# ===========================
# BACKUP CONFIGURATION
# ===========================
# Database backup settings
BACKUP_ENABLED=false
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=your-backup-bucket

# ===========================
# NOTIFICATION SETTINGS
# ===========================
# Push notification service (Firebase, etc.)
FIREBASE_SERVER_KEY=your-firebase-server-key
FIREBASE_PROJECT_ID=your-firebase-project-id

# Apple Push Notification
APNS_KEY_ID=your-apns-key-id
APNS_TEAM_ID=your-apns-team-id
APNS_BUNDLE_ID=com.saneyar.app

# ===========================
# CRISIS ALERT SETTINGS
# ===========================
# Crisis alert escalation timing (in minutes)
CRISIS_ALERT_TIMEOUT=5
CRISIS_ESCALATION_TIMEOUT=15
CRISIS_ADMIN_TIMEOUT=30

# Emergency contact numbers
EMERGENCY_CRISIS_NUMBER=988
EMERGENCY_TEXT_NUMBER=741741
EMERGENCY_SERVICES_NUMBER=911

# ===========================
# FEATURE FLAGS
# ===========================
ENABLE_AI_CHATBOT=true
ENABLE_CRISIS_DETECTION=true
ENABLE_FILE_UPLOAD=true
ENABLE_EMAIL_NOTIFICATIONS=true
ENABLE_SMS_NOTIFICATIONS=false
ENABLE_PUSH_NOTIFICATIONS=false
ENABLE_ANALYTICS=false
ENABLE_RATE_LIMITING=true

# ===========================
# TESTING CONFIGURATION
# ===========================
# Test database (only used during testing)
MONGODB_TEST_URI=mongodb://localhost:27017/saneyar_test

# Test user credentials
TEST_USER_EMAIL=test@example.com
TEST_USER_PASSWORD=TestPassword123!

# ===========================
# DOCKER CONFIGURATION
# ===========================
# Docker-specific settings (if using Docker)
DOCKER_INTERNAL_PORT=3000
DOCKER_MONGODB_HOST=mongo
DOCKER_REDIS_HOST=redis